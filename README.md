# Sumo Arena Multiplayer 

## Sumo Arena Multiplayer – браузерна багатокористувацька арена сумо.

Змагайтеся з іншими гравцями прямо в браузері, використовуйте швидкість, тактику та спеціальні прийоми, щоб витіснити суперників з арени.

## Опис гри

Sumo Arena Multiplayer – це браузерна гра для 2–4 гравців, де кожен керує своїм персонажем-борцем сумо на обмеженій арені. Головна мета гри – витіснити суперників за межі арени, використовуючи поєднання рухів, прискорень і спеціальних здібностей.
Гра побудована на принципі чесного витіснення, де всі гравці мають однакову масу, і сила удару або зіткнення залежить від швидкості і напрямку руху гравця. Це дозволяє уникнути випадковості і робить гру більш стратегічною: перемога залежить від тактики та реакції гравців. Гравці підключаються до гри через браузер і отримують унікальний ID. Сервер розподіляє їх по кімнатах (максимум 4 гравці на кімнату) і синхронізує стан арени: позиції гравців, таймери, здібності і зіткнення. Перед стартом гри кожен гравець повинен натиснути кнопку «готовий». Гра починається, коли всі готові, або через 20 секунд, якщо готові лише частина гравців. Якщо хтось відключається до старту, таймер зупиняється, а інші гравці мають повторно підтвердити готовність.

## Ігрові механіки:


***1. Рух гравця***

Основний рух дозволяє переміщатися вперед, назад, вбік.

Взаємодія при зіткненні:

- Якщо гравці стикаються під час основного руху, вони можуть відштовхнути один одного.

- Відштовхування залежить від швидкості руху гравця на момент зіткнення.

Прискорення швидкості:

- При тривалому натисканні кнопок руху швидкість персонажа поступово зростає від 0 → 0.3 → 0.5 → 1.

- Кнопка Q активує прискорення, максимальна швидкість 2, прискорення йде вдвічі швидше.

    (Додає стратегічний елемент: гравці можуть розганятися перед ударом, щоб ефективніше витіснити суперника.)

***2. Штовхання***

- Кнопка E – активує сильний удар, який відкидає гравця на N пікселів.

- Перезарядка: 20 секунд.

- Використовується для різкого витіснення суперника або зміни ситуації на арені.

***3. Слайд***

- Рух на коротку дистанцію вбік, вперед або назад, щоб уникнути зіткнення.

- Кнопка: Shift + напрямок руху.

- Перезарядка: 10 секунд.

- Слайд не використовується для витіснення, але допомагає ухилятися від ударів або змінювати позицію на арені.

***4. Неуразливість***

- Кнопка R – активує тимчасову неуразливість.

- Тривалість: 3 секунди, протягом яких персонаж не може штовхати і бути штовханим.

- Перезарядка: 40 секунд.

- Додає стратегічний елемент захисту та ухилення.

***5. Таймери і перезарядки***
- Здібність	Перезарядка	Особливості
Толчок (E)	20 сек	Відкидає гравця на N пікселів
Прискорення (Q)	20 сек	Максимальна швидкість 2, прискорення вдвічі швидше
Слайд (Shift+напрямок)	10 сек	Не відштовхує суперника
Неуразливість (R)	40 сек	Тривалість 3 сек, не можна штовхати і бути штовханим

***6. Арена***

- Обмежена зона, де проходять бої.

- Гравець, який виходить за межі арени, програє.

## Мультиплеєр і кімнати

Sumo Arena Multiplayer підтримує динамічний багатокористувацький режим у браузері, де гравці можуть грати разом у реальному часі.

### Підключення гравців

- Кожен гравець підключається через браузер і отримує унікальний ID.

- Сервер слідкує за всіма підключеннями і автоматично розподіляє гравців по кімнатах.

### Кімнати

- Максимум 4 гравці на кімнату.

- Сервер створює нову кімнату, якщо в поточних кімнатах немає вільних місць.

- Кімнати ізольовані одна від одної: події в одній кімнаті не впливають на інші.

- Сервер обробляє фізику зіткнень, таймери та перезарядки для кожної кімнати окремо.

### Старт гри

- Перед початком гри гравці натискають кнопку «готовий».

- Таймер запуску гри залежить від кількості готових гравців:

- Всі гравці готові → початок через 3…2…1…го!

- 2–3 гравці готові → таймер 20 секунд, щоб інші приєдналися.

- Якщо хтось відключається перед стартом, таймер зупиняється, а інші гравці повинні повторно підтвердити готовність.

### Синхронізація

Сервер відправляє кожному клієнту дані про:

- Позиції всіх гравців у кімнаті

- Використання здібностей (штовх, прискорення, слайд, неуразливість)

- Таймери перезарядок

- Статус готовності гравців

- Клієнт відправляє серверу свої дії (рух, активацію здібностей).

***Така архітектура дозволяє забезпечити чесну гру: усі розрахунки сили витіснення і фізики проходять на сервері, клієнти лише відображають стан.***

### Переваги системи кімнат

- Кожна кімната ізольована → не виникає конфліктів між гравцями з різних боїв.

- Сервер обробляє кілька кімнат одночасно, що дозволяє одночасно проводити багато матчів.

- Легка масштабованість: можна додати більше кімнат без зміни логіки клієнта.

## Клієнт

Клієнтська частина гри реалізована на **HTML, CSS та JavaScript** з використанням **Canvas** для відображення арени та гравців.

- Відображає арену, позиції гравців, їхні здібності, таймери перезарядок.
- Клієнт отримує дані від сервера: позиції всіх гравців, стан здібностей та таймерів, ефекти зіткнень.
- Надсилає серверу дії гравця:
  - Рухи (вперед, назад, вбік)
  - Використання здібностей (толчок, прискорення, слайд, неуразливість)
  - Натискання кнопки «готовий» перед стартом гри

**Переваги:**
- Статична сторінка на GitHub Pages → легко відкривати по посиланню.
- Візуальні ефекти та анімації роблять гру динамічною і зрозумілою.
- Усі розрахунки фізики проходять на сервері → чесна гра для всіх.


## Сервер

Сервер реалізований на **Node.js + Socket.io** та відповідає за логіку гри і мультиплеєр.

**Обов’язки сервера:**
- **Розподіл гравців по кімнатах**
  - Максимум 4 гравці на кімнату
  - Нові кімнати створюються автоматично, якщо існуючі заповнені
- **Обробка фізики та витіснення**
  - Всі розрахунки сили ударів і рухів гравців виконуються на сервері
  - Швидкість, прискорення та толчки впливають на результат зіткнень
- **Синхронізація стану гри**
  - Сервер відправляє клієнтам позиції гравців, ефекти зіткнень, таймери та перезарядки
- **Управління таймерами та перезарядками**
  - Толчок, прискорення, слайд, неуразливість
  - Старт гри через таймер залежно від кількості готових гравців
- **Обробка підключень і відключень**
  - Нові гравці отримують унікальний ID
  - Відключення гравців зупиняє таймер старту, кімнати оновлюються

**Переваги:**
- Сервер обробляє всі кімнати одночасно
- Всі розрахунки відбуваються централізовано → чесна фізика
- Легка масштабованість → можна додати більше кімнат


## Керування

| Дія                          | Кнопка/Комбінація        |
|-------------------------------|-------------------------|
| Рух вперед                    | W / ↑                   |
| Рух назад                     | S / ↓                   |
| Рух вліво                     | A / ←                   |
| Рух вправо                    | D / →                   |
| Штовхання             | E                       |
| Прискорення                   | Q                       |
| Слайд (вбік, вперед, назад)   | Shift + напрямок         |
| Неуразливість                 | R                       |
